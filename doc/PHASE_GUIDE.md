# EPH Phase 1-4 å®Œå…¨ã‚¬ã‚¤ãƒ‰

## ç›®æ¬¡
1. [æ¦‚è¦ï¼š4ã¤ã®Phaseã¨ã¯](#æ¦‚è¦)
2. [Phase 1: Scalar Self-Haze](#phase-1)
3. [Phase 2: Environmental Haze](#phase-2)
4. [Phase 3: Advanced Integration](#phase-3)
5. [Phase 4: Shepherding with Directional Haze](#phase-4)
6. [æ¯”è¼ƒè¡¨](#æ¯”è¼ƒè¡¨)
7. [ã©ã¡ã‚‰ã‚’ä½¿ã†ã¹ãã‹](#ã©ã¡ã‚‰ã‚’ä½¿ã†ã¹ãã‹)
8. [è©•ä¾¡æ–¹æ³•](#è©•ä¾¡æ–¹æ³•)

---

## æ¦‚è¦

EPHãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¯**4ã¤ã®å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º**ãŒã‚ã‚Šã¾ã™ï¼š

| Phase | åç§° | ãƒ˜ã‚¤ã‚ºã®æ‰€åœ¨ | è¤‡é›‘åº¦ | ç”¨é€” |
|-------|------|------------|--------|------|
| **Phase 1** | Scalar Self-Haze | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå†…éƒ¨ | â­ ã‚·ãƒ³ãƒ—ãƒ« | åŸºæœ¬å‹•ä½œæ¤œè¨¼ |
| **Phase 2** | Environmental Haze | ç’°å¢ƒã‚°ãƒªãƒƒãƒ‰ | â­â­â­ è¤‡é›‘ | é«˜åº¦ãªç¾¤çŸ¥èƒ½ |
| **Phase 3** | Advanced Integration | Phase 2 + äºˆæ¸¬å™¨ | â­â­â­â­â­ æœ€é«˜åº¦ | äºˆæ¸¬ãƒ™ãƒ¼ã‚¹åˆ¶å¾¡ |
| **Phase 4** | Shepherding w/ Directional Haze | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå†…éƒ¨ï¼ˆSPMå¯¾å¿œï¼‰ | â­â­â­â­ é«˜åº¦ | Shepherdingåˆ¶å¾¡ |

**é‡è¦ãªé•ã„ï¼š**
- Phase 1ï¼šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã€Œè‡ªåˆ†ã®ãƒ˜ã‚¤ã‚ºå€¤ã€ã‚’1ã¤æŒã¤ï¼ˆã‚¹ã‚«ãƒ©ãƒ¼å€¤ï¼‰
- Phase 2ï¼šç’°å¢ƒå…¨ä½“ãŒã€Œãƒ˜ã‚¤ã‚ºã®åœ°å›³ã€ã‚’æŒã¤ï¼ˆ2æ¬¡å…ƒã‚°ãƒªãƒƒãƒ‰ï¼‰
- Phase 3ï¼šPhase 2 + GRUäºˆæ¸¬å™¨ + Shepherdingçµ±åˆ
- Phase 4ï¼š2æ¬¡å…ƒç©ºé–“ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ H(r, Î¸) ã§æ–¹å‘ä¾å­˜ã®ç²¾åº¦åˆ¶å¾¡

---

## Phase 1: Scalar Self-Haze

### ðŸŽ¯ ç›®çš„
**æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªEPHå®Ÿè£…**ã§ã€åŸºæœ¬çš„ãªç¾¤çŸ¥èƒ½ãƒ»å›žé¿è¡Œå‹•ã‚’æ¤œè¨¼ã™ã‚‹ã€‚

### ðŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```julia
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ1ã¤ã®ãƒ˜ã‚¤ã‚ºå€¤ã‚’æŒã¤
agent.self_haze::Float64  # ç¯„å›²: [0.0, 1.0]
```

### ðŸ”¬ å‹•ä½œãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

#### 1. ãƒ˜ã‚¤ã‚ºè¨ˆç®—ï¼ˆoccupancyãƒ™ãƒ¼ã‚¹ï¼‰
```
å‘¨å›²ã®å æœ‰çŽ‡Î© â†’ ãƒ˜ã‚¤ã‚ºå€¤ h_self

h_self(Î©) = h_max Â· Ïƒ(-Î±(Î© - Î©_threshold))

where:
  Ïƒ(x) = 1 / (1 + exp(-x))  # Sigmoidé–¢æ•°
  h_max = 0.8                 # æœ€å¤§ãƒ˜ã‚¤ã‚º
  Î± = 10.0                    # æ€¥å³»åº¦
  Î©_threshold = 0.05          # é–¾å€¤
```

**ç›´æ„Ÿçš„ç†è§£ï¼š**
```
å‘¨å›²ã«ç‰©ãŒå°‘ãªã„ï¼ˆÎ©å°ï¼‰â†’ ãƒ˜ã‚¤ã‚ºé«˜ â†’ ç²¾åº¦ä½Ž â†’ æŽ¢ç´¢çš„
å‘¨å›²ã«ç‰©ãŒå¤šã„ï¼ˆÎ©å¤§ï¼‰  â†’ ãƒ˜ã‚¤ã‚ºä½Ž â†’ ç²¾åº¦é«˜ â†’ å›žé¿çš„
```

#### 2. ç²¾åº¦å¤‰èª¿ï¼ˆPrecision Modulationï¼‰
```
Î (r,Î¸; h) = Î _base(r,Î¸) Â· (1-h)^Î³

where:
  Î _base: åŸºæº–ç²¾åº¦ï¼ˆè·é›¢æ¸›è¡°é–¢æ•°ï¼‰
  h: ãƒ˜ã‚¤ã‚ºå€¤ [0, 1]
  Î³ = 2.0: ç²¾åº¦å¤‰èª¿ã®å¼·åº¦
```

#### 3. ä¿¡å¿µã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼å¢—åŠ 
```
H[q(s)] âˆ -log(det(Î ))

ãƒ˜ã‚¤ã‚ºé«˜ â†’ Î ä½Ž â†’ Hé«˜ â†’ ä¸ç¢ºå®Ÿæ€§å¢— â†’ æƒ…å ±æŽ¢ç´¢è¡Œå‹•
```

### âœ… é•·æ‰€
- **å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«**ï¼š1ã¤ã®ã‚¹ã‚«ãƒ©ãƒ¼å€¤ã®ã¿ç®¡ç†
- **ç†è«–çš„ã«æ˜Žå¿«**ï¼šActive Inferenceã®åŸºæœ¬æ¦‚å¿µã‚’ç›´æŽ¥çš„ã«å®Ÿè£…
- **ãƒ‡ãƒãƒƒã‚°å®¹æ˜“**ï¼šãƒ˜ã‚¤ã‚ºå€¤ã‚’ç›´æŽ¥è¦³å¯Ÿå¯èƒ½
- **è¨ˆç®—ã‚³ã‚¹ãƒˆä½Ž**ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯èƒ½

### âŒ çŸ­æ‰€
- **ç©ºé–“æƒ…å ±ãªã—**ï¼šã©ã®æ–¹å‘ã«ãƒ˜ã‚¤ã‚ºãŒã‚ã‚‹ã‹ä¸æ˜Ž
- **å±¥æ­´ãªã—**ï¼šéŽåŽ»ã®çµŒè·¯æƒ…å ±ã‚’ä¿æŒã§ããªã„
- **é€šä¿¡æ©Ÿèƒ½ãªã—**ï¼šä»–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®æƒ…å ±ä¼é”ä¸å¯
- **äºˆæ¸¬ä¸å¯**ï¼šå°†æ¥ã®ãƒ˜ã‚¤ã‚ºçŠ¶æ…‹ã‚’äºˆæ¸¬ã§ããªã„

### ðŸ“ˆ è©•ä¾¡æŒ‡æ¨™
- **å›žé¿æˆåŠŸçŽ‡**ï¼šä»–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã®è¡çªå›žé¿çŽ‡
- **æŽ¢ç´¢åŠ¹çŽ‡**ï¼šç©ºé–“ã®ã‚«ãƒãƒ¼çŽ‡
- **ãƒ˜ã‚¤ã‚ºé·ç§»**ï¼šisolated â†” crowded ã®åˆ‡ã‚Šæ›¿ãˆé »åº¦
- **è¨ˆç®—æ™‚é–“**ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§èƒ½

### ðŸ§ª å…¸åž‹çš„ãªå®Ÿé¨“
```bash
# Phase 1 Validation
./scripts/run_basic_validation.sh 1

# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šä¾‹
EPH_N_AGENTS=10 \
EPH_SIM_TIME=200 \
EPH_WORLD_SIZE=400 \
  julia --project=src_julia scripts/phase1_experiment.jl
```

---

## Phase 2: Environmental Haze

### ðŸŽ¯ ç›®çš„
**ç’°å¢ƒã‚’ä»‹ã—ãŸé–“æŽ¥çš„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆStigmergyï¼‰**ã«ã‚ˆã‚‹é«˜åº¦ãªç¾¤çŸ¥èƒ½ã‚’å®Ÿç¾ã™ã‚‹ã€‚

### ðŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```julia
# ç’°å¢ƒãŒ2æ¬¡å…ƒãƒ˜ã‚¤ã‚ºã‚°ãƒªãƒƒãƒ‰ã‚’æŒã¤
env.haze_grid::Matrix{Float64}  # ã‚µã‚¤ã‚º: (width, height)
                                # å„ã‚»ãƒ«ã®ç¯„å›²: [0.0, 1.0]
```

### ðŸ”¬ å‹•ä½œãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

#### 1. ãƒ˜ã‚¤ã‚ºå †ç©ï¼ˆHaze Depositionï¼‰
```julia
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç§»å‹•çµŒè·¯ã«ãƒ˜ã‚¤ã‚ºã‚’æ®‹ã™
function deposit_haze_trail(env, agent_pos, deposit_amount=0.2)
    x, y = agent_pos
    env.haze_grid[x, y] += deposit_amount
    env.haze_grid[x, y] = min(env.haze_grid[x, y], 1.0)  # Cap at 1.0
end
```

#### 2. ãƒ˜ã‚¤ã‚ºæ¸›è¡°ï¼ˆTemporal Decayï¼‰
```julia
# æ¯Žã‚¹ãƒ†ãƒƒãƒ—ã€å…¨ã‚°ãƒªãƒƒãƒ‰ãŒæ¸›è¡°
env.haze_grid .*= decay_rate  # decay_rate = 0.99
```

**æ™‚é–“ç™ºå±•ï¼š**
```
t=0:   ãƒ˜ã‚¤ã‚ºãªã— [0, 0, 0, 0]
t=1:   å †ç©      [0, 0.2, 0, 0]  (ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒé€šéŽ)
t=2:   æ¸›è¡°      [0, 0.198, 0, 0]
t=3:   æ¸›è¡°      [0, 0.196, 0, 0]
...
```

#### 3. ãƒ˜ã‚¤ã‚ºã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆSPMçµ±åˆï¼‰
```julia
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè‡ªåˆ†ã®SPMå„ãƒ“ãƒ³ã«å¯¾å¿œã™ã‚‹ä½ç½®ã®ãƒ˜ã‚¤ã‚ºã‚’èª­ã¿å–ã‚‹
for r_idx in 1:Nr, Î¸_idx in 1:NÎ¸
    # SPMãƒ“ãƒ³(r,Î¸)ã«å¯¾å¿œã™ã‚‹ãƒ¯ãƒ¼ãƒ«ãƒ‰åº§æ¨™(x,y)ã‚’è¨ˆç®—
    x, y = spm_bin_to_world_pos(r_idx, Î¸_idx, agent)

    # ç’°å¢ƒã‹ã‚‰ãƒ˜ã‚¤ã‚ºã‚’ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
    h_env[r_idx, Î¸_idx] = sample(env.haze_grid, x, y)
end
```

#### 4. ãƒ˜ã‚¤ã‚ºåˆæˆï¼ˆSelf + Environmentï¼‰
```julia
# Total haze = max(self-haze, environmental haze)
H_total(r,Î¸) = max(H_self(r,Î¸), H_env(r,Î¸))
```

### ðŸ§  GRUäºˆæ¸¬å™¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```julia
# éŽåŽ»ã®SPMã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‹ã‚‰å°†æ¥ã®ãƒ˜ã‚¤ã‚ºã‚’äºˆæ¸¬
h_predicted = GRU_predictor(spm_history)

# äºˆæ¸¬ã‚’è¡Œå‹•é¸æŠžã«çµ±åˆ
cost = F_percept(h_current) + Î»_pred * F_percept(h_predicted)
```

### âœ… é•·æ‰€
- **ã‚¹ãƒ†ã‚£ã‚°ãƒžãƒ¼ã‚¸ãƒ¼é€šä¿¡**ï¼šç’°å¢ƒã‚’ä»‹ã—ãŸé–“æŽ¥çš„ãªæƒ…å ±å…±æœ‰
- **çµŒè·¯è¨˜æ†¶**ï¼šéŽåŽ»ã®ç§»å‹•å±¥æ­´ãŒç’°å¢ƒã«æ®‹ã‚‹
- **æ–¹å‘ä¾å­˜**ï¼šã©ã®æ–¹å‘ã«ãƒ˜ã‚¤ã‚ºãŒå¤šã„ã‹åˆ†ã‹ã‚‹
- **äºˆæ¸¬å¯èƒ½**ï¼šGRUç­‰ã§å°†æ¥ã®ãƒ˜ã‚¤ã‚ºåˆ†å¸ƒã‚’äºˆæ¸¬å¯èƒ½
- **å‰µç™ºçš„ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼šè¤‡é›‘ãªç¾¤ã‚Œè¡Œå‹•ãŒè‡ªç„¶ã«å‡ºç¾

### âŒ çŸ­æ‰€
- **å®Ÿè£…ãŒè¤‡é›‘**ï¼šã‚°ãƒªãƒƒãƒ‰ç®¡ç†ã€ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€åˆæˆãŒå¿…è¦
- **è¨ˆç®—ã‚³ã‚¹ãƒˆé«˜**ï¼šã‚°ãƒªãƒƒãƒ‰å…¨ä½“ã®æ›´æ–°ãŒå¿…è¦
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡å¤§**ï¼š(width Ã— height)ã®ã‚°ãƒªãƒƒãƒ‰ä¿æŒ
- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ•æ„Ÿ**ï¼šdecay_rate, deposit_amountã®èª¿æ•´ãŒé‡è¦

### ðŸ“ˆ è©•ä¾¡æŒ‡æ¨™
- **ãƒ˜ã‚¤ã‚ºåˆ†å¸ƒ**ï¼šç©ºé–“çš„ãªãƒ˜ã‚¤ã‚ºãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¦–è¦šåŒ–
- **çµŒè·¯åŠ¹çŽ‡**ï¼šé‡è¤‡è¨ªå•ã®å‰Šæ¸›çŽ‡
- **ç¾¤ã‚Œç¶­æŒæ€§èƒ½**ï¼šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®å‡é›†æ€§
- **shepherdingæ€§èƒ½**ï¼šç›®æ¨™ä½ç½®ã¸ã®èª˜å°Žæ™‚é–“
- **äºˆæ¸¬ç²¾åº¦**ï¼šGRUäºˆæ¸¬ vs å®Ÿéš›ã®ãƒ˜ã‚¤ã‚ºã®èª¤å·®

### ðŸ§ª å…¸åž‹çš„ãªå®Ÿé¨“
```bash
# Phase 2 Validation
./scripts/run_basic_validation.sh 2

# Shepherding Taskï¼ˆPhase 2ã®ä»£è¡¨çš„å¿œç”¨ï¼‰
EPH_N_AGENTS=15 \
EPH_SIM_TIME=200 \
EPH_WORLD_SIZE=500 \
EPH_HAZE_DECAY=0.99 \
EPH_HAZE_DEPOSIT=0.2 \
  ./scripts/run_shepherding_experiment.sh
```

---

## Phase 3: Advanced Integration

### ðŸŽ¯ ç›®çš„
**Phase 2ã®é«˜åº¦ãªçµ±åˆæ©Ÿèƒ½**ã‚’å®Ÿè£…ã—ã€GRUäºˆæ¸¬å™¨ã¨Shepherdingå¿œç”¨ã‚’çµ„ã¿åˆã‚ã›ãŸæœ€å…ˆç«¯ã®ç¾¤çŸ¥èƒ½ã‚’å®Ÿç¾ã™ã‚‹ã€‚

### ðŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
Phase 3ã¯æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¿½åŠ ã™ã‚‹ã®ã§ã¯ãªãã€**Phase 2ã®å…¨æ©Ÿèƒ½ + è¿½åŠ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**ã§æ§‹æˆã•ã‚Œã¾ã™ï¼š
```julia
# Phase 2ã®ã™ã¹ã¦ + ä»¥ä¸‹ã‚’è¿½åŠ ï¼š
- SPMPredictor: å°†æ¥ã®SPMã‚’äºˆæ¸¬
  - LinearPredictor: é‹å‹•å­¦çš„ãƒ¢ãƒ‡ãƒ«
  - NeuralPredictor: GRUãƒ™ãƒ¼ã‚¹ã®å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«
- ShepherdingEPH: çŠ¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åˆ¶å¾¡
- BoidsAgent: ç¾Šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ç¾¤ã‚Œè¡Œå‹•
```

### ðŸ”¬ å‹•ä½œãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

#### 1. GRUäºˆæ¸¬å™¨ï¼ˆSPMPredictorï¼‰
```julia
# éŽåŽ»ã®SPMã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‹ã‚‰å°†æ¥ã®SPMã‚’äºˆæ¸¬
predictor = load_predictor("models/spm_predictor.jld2")
spm_predicted = predict_spm(predictor, agent, env)

# äºˆæ¸¬ã‚’è¡Œå‹•é¸æŠžã«çµ±åˆ
cost = F_percept(spm_current) + Î»_pred * F_percept(spm_predicted)
```

**äºˆæ¸¬å™¨ã®ç¨®é¡žï¼š**
- **LinearPredictor**: é‹å‹•å­¦ãƒ¢ãƒ‡ãƒ«ãƒ™ãƒ¼ã‚¹ï¼ˆdt, velocityï¼‰
- **NeuralPredictor**: GRU + Dense layersï¼ˆå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è¨“ç·´ï¼‰

#### 2. Shepherdingçµ±åˆ
```julia
# çŠ¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆEPHåˆ¶å¾¡ï¼‰ã¨ç¾Šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆBoidsåˆ¶å¾¡ï¼‰ã®å”èª¿
controller = ShepherdingController(eph_params, shep_params)

# Shepherdingç”¨ã®ãƒ¡ã‚¿ã‚³ã‚¹ãƒˆ
M_meta = w_targetÂ·C_target + w_densityÂ·C_density + w_workÂ·C_work

where:
  C_target   = ç¾Šã®é‡å¿ƒã‹ã‚‰ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¾ã§ã®è·é›¢
  C_density  = ç¾Šã®åˆ†æ•£åº¦ï¼ˆå‡é›†æ€§ã®é€†ï¼‰
  C_work     = çŠ¬ã®ç§»å‹•ã‚³ã‚¹ãƒˆ
```

#### 3. Boidsãƒ«ãƒ¼ãƒ«ï¼ˆç¾Šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰
```julia
# ç¾Šã¯3ã¤ã®Boidsãƒ«ãƒ¼ãƒ«ã«å¾“ã†
velocity = w_sepÂ·separation + w_alignÂ·alignment + w_cohÂ·cohesion

# ã•ã‚‰ã«çŠ¬ã‹ã‚‰ã®åç™ºã‚’è¿½åŠ 
velocity += dog_repulsion(distance_to_dogs)
```

### âœ… é•·æ‰€
- **äºˆæ¸¬èƒ½åŠ›**ï¼šGRUã«ã‚ˆã‚Šå°†æ¥ã®çŠ¶æ…‹ã‚’äºˆæ¸¬ã—ã€å…ˆèª­ã¿è¡Œå‹•
- **ã‚¿ã‚¹ã‚¯ç‰¹åŒ–**ï¼šShepherdingã®ã‚ˆã†ãªè¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã«å¯¾å¿œ
- **ç•°ç¨®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå”èª¿**ï¼šEPHï¼ˆçŠ¬ï¼‰ã¨Boidsï¼ˆç¾Šï¼‰ã®çµ±åˆ
- **å­¦ç¿’å¯èƒ½**ï¼šGRUãƒ¢ãƒ‡ãƒ«ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’ã§æ”¹å–„å¯èƒ½
- **è«–æ–‡ä¾¡å€¤é«˜**ï¼šæœ€å…ˆç«¯ã®ç ”ç©¶æˆæžœã¨ã—ã¦ç™ºè¡¨å¯èƒ½

### âŒ çŸ­æ‰€
- **å®Ÿè£…ãŒæœ€ã‚‚è¤‡é›‘**ï¼šè¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®çµ±åˆãŒå¿…è¦
- **å­¦ç¿’ãƒ‡ãƒ¼ã‚¿å¿…é ˆ**ï¼šGRUè¨“ç·´ã«å¤§é‡ã®SPMãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦
- **è¨ˆç®—ã‚³ã‚¹ãƒˆæœ€å¤§**ï¼šäºˆæ¸¬å™¨ã®æŽ¨è«–ã‚³ã‚¹ãƒˆãŒè¿½åŠ 
- **ãƒ‡ãƒãƒƒã‚°å›°é›£**ï¼šå¤šå±¤çš„ãªã‚·ã‚¹ãƒ†ãƒ ã§ã‚¨ãƒ©ãƒ¼åŽŸå› ã®ç‰¹å®šãŒé›£ã—ã„
- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ãŒè¤‡é›‘**ï¼šeph_params, shep_params, GRU hyperparameters

### ðŸ“ˆ è©•ä¾¡æŒ‡æ¨™
- **äºˆæ¸¬ç²¾åº¦**ï¼šGRUäºˆæ¸¬ vs å®Ÿéš›ã®SPMã®å¹³å‡çµ¶å¯¾èª¤å·®ï¼ˆMAEï¼‰
- **Shepherdingæ€§èƒ½**ï¼š
  - Recovery Time: é€ƒèµ°å¾Œã®åŽæŸæ™‚é–“
  - Path Smoothness: çµŒè·¯ã®Jerkï¼ˆåŠ åŠ é€Ÿåº¦ï¼‰
  - Final Distance: æœ€çµ‚çš„ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‹ã‚‰ã®è·é›¢
- **å­¦ç¿’åŠ¹çŽ‡**ï¼šè¨“ç·´ãƒ‡ãƒ¼ã‚¿é‡ vs äºˆæ¸¬ç²¾åº¦ã®æ”¹å–„æ›²ç·š
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§èƒ½**ï¼šæŽ¨è«–æ™‚é–“ï¼ˆGRU forward passï¼‰

### ðŸ§ª å…¸åž‹çš„ãªå®Ÿé¨“
```bash
# Phase 3 Validationï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«çµ±åˆãƒ†ã‚¹ãƒˆï¼‰
./scripts/run_basic_validation.sh 3

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# âœ… SPMPredictor module import
# âœ… LinearPredictor instantiation
# âœ… ShepherdingEPH module import
# âœ… ShepherdingParams instantiation
# âœ… BoidsAgent module import
# âœ… GRU model loading (optional)

# Shepherding Experimentï¼ˆPhase 3ã®å¿œç”¨ï¼‰
EPH_N_AGENTS=15 \
EPH_SIM_TIME=200 \
EPH_WORLD_SIZE=500 \
  ./scripts/run_shepherding_experiment.sh

# GRUäºˆæ¸¬å™¨ã®è¨“ç·´ï¼ˆãƒ‡ãƒ¼ã‚¿åŽé›† â†’ å­¦ç¿’ï¼‰
./scripts/gru/update_gru.sh
```

### ðŸ”§ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```
1. Phase 2ãŒå®Œå…¨ã«å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
   â†“
2. SPMãƒ‡ãƒ¼ã‚¿ã‚’åŽé›†ï¼ˆEPHå®Ÿé¨“ã‚’å®Ÿè¡Œï¼‰
   â†“
3. GRUãƒ¢ãƒ‡ãƒ«ã‚’è¨“ç·´ï¼ˆupdate_gru.shï¼‰
   â†“
4. Phase 3 Validationã‚’å®Ÿè¡Œ
   â†“
5. Shepherdingå®Ÿé¨“ã§End-to-Endãƒ†ã‚¹ãƒˆ
   â†“
6. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ï¼ˆeph_params, shep_paramsï¼‰
```

---

## Phase 4: Shepherding with Directional Haze

### ðŸŽ¯ ç›®çš„
**ç©ºé–“çš„ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ H(r, Î¸)** ã«ã‚ˆã‚‹æ–¹å‘ä¾å­˜ã®ç²¾åº¦åˆ¶å¾¡ã§ã€shepherdingï¼ˆè¿½ã„è¾¼ã¿ï¼‰ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–ã—ãŸè¡Œå‹•ã‚’å®Ÿç¾ã™ã‚‹ã€‚

ã‚´ãƒ¼ãƒ«æ–¹å‘ã¸ã®ç²¾åº¦åˆ¶å¾¡ã‚’é€šã˜ã¦ã€çŠ¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç¾Šã‚’åŠ¹çŽ‡çš„ã«ã‚´ãƒ¼ãƒ«ã¸èª˜å°Žã™ã‚‹è¡Œå‹•ã‚’å¯èƒ½ã«ã™ã‚‹ã€‚

### ðŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

Phase 4ã¯ **2æ¬¡å…ƒç©ºé–“ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ H(r, Î¸)** ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```julia
# Spatial Haze Matrix: H(r, Î¸) âˆˆ [0,1]^(Nr Ã— NÎ¸)
haze_matrix::Matrix{Float64}  # (Nr, NÎ¸)

# Directional haze modulation based on:
# - SPM occupancy per bin
# - Goal direction (reduced haze toward goal)
```

å„SPMãƒ“ãƒ³ãŒç‹¬ç«‹ã—ãŸãƒ˜ã‚¤ã‚ºå€¤ã‚’æŒã¡ã€æ–¹å‘ä¾å­˜ã®ç²¾åº¦åˆ¶å¾¡ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

### ðŸ”¬ å‹•ä½œãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

#### 1. Spatial Haze Matrix Computation

å„SPMãƒ“ãƒ³(r, Î¸)ã§ãƒ­ãƒ¼ã‚«ãƒ«å æœ‰çŽ‡ã«åŸºã¥ã„ã¦ãƒ˜ã‚¤ã‚ºã‚’è¨ˆç®—ï¼š

```julia
# Base spatial haze from SPM occupancy
for r in 1:Nr, Î¸ in 1:NÎ¸
    Î©_local = spm[1, r, Î¸]  # Local occupancy
    logit = -Î± * (Î©_local - Î©_threshold)
    haze_matrix[r, Î¸] = h_max / (1.0 + exp(-logit))
end
```

**ç›´æ„Ÿçš„ç†è§£ï¼š**
- å æœ‰ãŒé«˜ã„æ–¹å‘ â†’ ãƒ˜ã‚¤ã‚ºä½Ž â†’ ç²¾åº¦é«˜ â†’ å¼·ã„å›žé¿
- å æœ‰ãŒä½Žã„æ–¹å‘ â†’ ãƒ˜ã‚¤ã‚ºé«˜ â†’ ç²¾åº¦ä½Ž â†’ æŸ”è»Ÿãªè¡Œå‹•

#### 2. Goal-Aware Haze Modulation

ã‚´ãƒ¼ãƒ«æ–¹å‘ã®ãƒ˜ã‚¤ã‚ºã‚’æ¸›å°‘ã•ã›ã€ã‚ˆã‚Šç©æ¥µçš„ãªè¿½ã„è¾¼ã¿å‹•ä½œã‚’å®Ÿç¾ï¼š

```julia
# Goal direction in agent-relative coordinates
Î¸_goal = atan(dy_goal, dx_goal) - heading

# Reduce haze toward goal (Gaussian weighting)
for Î¸ in 1:NÎ¸
    Î¸_center = (Î¸ - 0.5) * (2Ï€ / NÎ¸)
    angle_diff = mod(Î¸_center - Î¸_goal + Ï€, 2Ï€) - Ï€

    # Gaussian weight centered on goal direction
    goal_weight = exp(-(angle_diff / 0.8)^2)  # Ïƒ = 0.8 rad â‰ˆ 45Â°

    # Reduce haze by up to 50% in goal direction
    for r in 1:Nr
        haze_matrix[r, Î¸] *= (1.0 - 0.5 * goal_weight)
    end
end
```

**åŠ¹æžœï¼š**
- ã‚´ãƒ¼ãƒ«æ–¹å‘ã®ç¾Š â†’ ãƒ˜ã‚¤ã‚ºä½Ž â†’ ç²¾åº¦é«˜ â†’ å¼·ãæŠ¼ã™
- ã‚´ãƒ¼ãƒ«ã¨åå¯¾ã®ç¾Š â†’ ãƒ˜ã‚¤ã‚ºé«˜ â†’ ç²¾åº¦ä½Ž â†’ æŸ”è»Ÿã«å›žé¿

#### 3. Precision Modulation per SPM Bin

å„ãƒ“ãƒ³ã®ç²¾åº¦ã‚’ç‹¬ç«‹ã—ã¦åˆ¶å¾¡ï¼š

```julia
# Precision modulation formula (exponential decay)
Î (r, Î¸) = Î _base(r, Î¸) Â· exp(-Î± Â· h(r, Î¸))

# Where:
# - Î _base(r, Î¸): Base precision (distance-dependent)
# - h(r, Î¸): Spatial haze value at position (r, Î¸)
# - Î±: Decay rate (default: 2.0)
```

#### 4. Adaptive Meta-Evaluation

ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ã«åŸºã¥ãé‡ã¿ã®å‹•çš„èª¿æ•´ï¼š

```julia
# Angular compactness entropy
H = -Î£ P(Î¸) log P(Î¸)

# Adaptive weight switching
if H > H_threshold_high      # Dispersed sheep
    Î»_compact = 3.0
    Î»_goal = 0.3
elseif H < H_threshold_low   # Compact sheep
    Î»_compact = 0.3
    Î»_goal = 3.0
else                          # Balanced
    Î»_compact = 0.8
    Î»_goal = 1.5
end
```

### ðŸ“ å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

```
src_julia/control/ShepherdingEPHv2.jl   # Phase 4 Shepherding controller
src_julia/control/SocialValue.jl        # Social Value computation
src_julia/agents/SheepAgent.jl          # BOIDS-based sheep agents
src_julia/main_shepherding.jl           # Main simulation entry point
viewer.py                                # Real-time visualization
```

### ðŸ§ª Phase 4 å®Ÿè¡Œæ–¹æ³•

```bash
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯è¦–åŒ–ä»˜ãã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 30ç¾Šã€5çŠ¬ï¼‰
./scripts/run_shepherding_viewer.sh

# ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§å®Ÿè¡Œ
./scripts/run_shepherding_viewer.sh --n-sheep 50 --n-dogs 10 --steps 2000

# éžã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
EPH_NON_INTERACTIVE=1 EPH_STEPS=100 ~/.juliaup/bin/julia --project=src_julia src_julia/main_shepherding.jl
```

### ðŸ’¡ ä½¿ç”¨ä¾‹

#### ä¾‹1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§ shepherding ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```bash
# 30ç¾Šã€5çŠ¬ã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
./scripts/run_shepherding_viewer.sh

# UIæ“ä½œ:
# - ãƒžã‚¦ã‚¹ã‚¯ãƒªãƒƒã‚¯: ã‚´ãƒ¼ãƒ«ä½ç½®ã‚’å¤‰æ›´
# - çŸ¢å°ã‚­ãƒ¼: ã‚´ãƒ¼ãƒ«ä½ç½®ã‚’å¾®èª¿æ•´
# - STOP/START: ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶å¾¡
# - RESET: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å†é…ç½®
```

#### ä¾‹2: ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§å®Ÿé¨“

```bash
# å¤§è¦æ¨¡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: 100ç¾Šã€20çŠ¬
./scripts/run_shepherding_viewer.sh --n-sheep 100 --n-dogs 20 --world-size 600 --steps 3000
```

### ðŸ”§ Phase 4 ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

`ShepherdingParams` ã§åˆ¶å¾¡å¯èƒ½ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼š

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜Ž | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|-----------|------|----------|
| **Social Value Weights** |||
| `Î»_compact` | å‡é›†æ€§ã®é‡ã¿ï¼ˆé©å¿œçš„ã«å¤‰åŒ–ï¼‰ | 1.0 |
| `Î»_goal` | ã‚´ãƒ¼ãƒ«æ–¹å‘ã¸ã®é‡ã¿ï¼ˆé©å¿œçš„ã«å¤‰åŒ–ï¼‰ | 0.5 |
| **Adaptive Thresholds** |||
| `H_threshold_high` | é«˜ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é–¾å€¤ï¼ˆå‡é›†ãƒ¢ãƒ¼ãƒ‰ç§»è¡Œï¼‰ | 1.8 |
| `H_threshold_low` | ä½Žã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é–¾å€¤ï¼ˆã‚´ãƒ¼ãƒ«æŽ¨é€²ãƒ¢ãƒ¼ãƒ‰ç§»è¡Œï¼‰ | 0.8 |
| **Haze Parameters** |||
| `use_self_haze` | è‡ªå·±ãƒ˜ã‚¤ã‚ºã‚’ä½¿ç”¨ã™ã‚‹ã‹ | true |
| `h_max` | æœ€å¤§ãƒ˜ã‚¤ã‚ºå€¤ | 0.8 |
| `Î±` | ãƒ˜ã‚¤ã‚ºæ„Ÿåº¦ï¼ˆã‚·ã‚°ãƒ¢ã‚¤ãƒ‰å‹¾é…ï¼‰ | 10.0 |
| `Î©_threshold` | å æœ‰çŽ‡é–¾å€¤ | 0.12 |
| `Î³` | ç²¾åº¦æ¸›è¡°æŒ‡æ•° | 2.0 |
| **Action Optimization** |||
| `max_iter` | å‹¾é…é™ä¸‹ã®æœ€å¤§ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ•° | 5 |
| `Î·` | å­¦ç¿’çŽ‡ | 0.1 |
| `max_speed` | çŠ¬ã®æœ€å¤§é€Ÿåº¦ | 50.0 |
| **SPM Parameters** |||
| `Nr` | æ”¾å°„æ–¹å‘ã®ãƒ“ãƒ³æ•° | 6 |
| `NÎ¸` | è§’åº¦æ–¹å‘ã®ãƒ“ãƒ³æ•° | 6 |
| `Nc` | ãƒãƒ£ãƒãƒ«æ•° | 3 |

### ðŸš€ Phase 4 ä½¿ç”¨ã‚·ãƒŠãƒªã‚ª

1. **Shepherding ã‚¿ã‚¹ã‚¯**: è¤‡æ•°ã®çŠ¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç¾Šã®ç¾¤ã‚Œã‚’ã‚´ãƒ¼ãƒ«ã¸èª˜å°Ž
2. **å‹•çš„ãªç¾¤ã‚Œåˆ¶å¾¡**: ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é©å¿œã«ã‚ˆã‚‹è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆå‡é›†â‡”ã‚´ãƒ¼ãƒ«æŽ¨é€²ï¼‰
3. **æ–¹å‘ä¾å­˜ã®è¡Œå‹•åˆ¶å¾¡**: ã‚´ãƒ¼ãƒ«æ–¹å‘ã¸ã®ç©æ¥µçš„ãªè¿½ã„è¾¼ã¿ã€å´æ–¹ã‹ã‚‰ã®æŸ”è»Ÿãªèª˜å°Ž
4. **ãƒžãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå”èª¿**: çŠ¬åŒå£«ã®è¡çªå›žé¿ã¨å”èª¿çš„ãªherding

### ðŸ”¬ Phase 4 ã®ç†è«–çš„ä½ç½®ã¥ã‘

Phase 4ã¯ **Spatial Precision Control** ã¨ **Active Inference** ã®çµ±åˆã‚’å®Ÿç¾ï¼š

- **Goal-aware precision modulation** ã«ã‚ˆã‚‹æ–¹å‘ä¾å­˜ã®è¡Œå‹•é¸æŠž
- **SPM-based social value** ã«ã‚ˆã‚‹ç¾¤ã‚Œè¡Œå‹•ã®perceptual grounding
- **Adaptive meta-evaluation** ã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯é€²æ—ã«å¿œã˜ãŸæˆ¦ç•¥åˆ‡æ›¿
- **Stigmergetic coordination** ã¸ã®æ‹¡å¼µå¯èƒ½æ€§ï¼ˆç’°å¢ƒãƒ˜ã‚¤ã‚ºã¨ã®çµ±åˆï¼‰

---

## æ¯”è¼ƒè¡¨

| é …ç›® | Phase 1: Self-Haze | Phase 2: Environmental Haze | Phase 3: Advanced Integration | Phase 4: Shepherding with Directional Haze |
|------|---------------------|----------------------------|-------------------------------|------------------------------|
| **ãƒ‡ãƒ¼ã‚¿æ§‹é€ ** | ã‚¹ã‚«ãƒ©ãƒ¼å€¤ï¼ˆ1å€¤ï¼‰ | 2Dã‚°ãƒªãƒƒãƒ‰ï¼ˆwidthÃ—heightï¼‰ | Phase 2 + GRU + Shepherding | 2Dç©ºé–“ãƒ˜ã‚¤ã‚ºï¼ˆNr Ã— NÎ¸ï¼‰ |
| **ãƒ˜ã‚¤ã‚ºæ‰€åœ¨** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå†…éƒ¨ | ç’°å¢ƒç©ºé–“ | ç’°å¢ƒç©ºé–“ + äºˆæ¸¬ | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå†…éƒ¨ï¼ˆSPMå¯¾å¿œï¼‰ |
| **è¨ˆç®—é‡** | O(1) per agent | O(N_grid + N_agents) | O(N_grid + N_agents + GRU) | O(Nr Ã— NÎ¸) per agent |
| **ãƒ¡ãƒ¢ãƒª** | ~8 bytes per agent | ~(widthÃ—height) Ã— 8 bytes | Phase 2 + GRUãƒ¢ãƒ‡ãƒ«ï¼ˆ~1MBï¼‰ | ~(NrÃ—NÎ¸) Ã— 8 bytes per agent |
| **é€šä¿¡èƒ½åŠ›** | ãªã— | ã‚¹ãƒ†ã‚£ã‚°ãƒžãƒ¼ã‚¸ãƒ¼ï¼ˆé–“æŽ¥ï¼‰ | ã‚¹ãƒ†ã‚£ã‚°ãƒžãƒ¼ã‚¸ãƒ¼ + äºˆæ¸¬ | ç›´æŽ¥çš„ï¼ˆdog-dogè¡çªå›žé¿ï¼‰ |
| **ç©ºé–“æƒ…å ±** | ãªã— | ã‚ã‚Šï¼ˆæ–¹å‘ãƒ»è·é›¢ä¾å­˜ï¼‰ | ã‚ã‚Š + å°†æ¥äºˆæ¸¬ | ã‚ã‚Šï¼ˆæ–¹å‘ä¾å­˜ç²¾åº¦åˆ¶å¾¡ï¼‰ |
| **æ™‚é–“æƒ…å ±** | å³æ™‚ã®ã¿ | å±¥æ­´ï¼ˆæ¸›è¡°ä»˜ãï¼‰ | å±¥æ­´ + å°†æ¥äºˆæ¸¬ | å³æ™‚ + ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é©å¿œ |
| **äºˆæ¸¬å¯èƒ½æ€§** | ä¸å¯ | å¯ï¼ˆGRUç­‰ï¼‰ | GRUã«ã‚ˆã‚‹é«˜ç²¾åº¦äºˆæ¸¬ | ä¸å¯ï¼ˆPhase 3ã¨çµ±åˆå¯ï¼‰ |
| **ç²¾åº¦åˆ¶å¾¡** | ãªã— | ä¸€å¾‹ | ä¸€å¾‹ | æ–¹å‘æ¯Žç‹¬ç«‹åˆ¶å¾¡ |
| **ã‚´ãƒ¼ãƒ«èªè­˜** | ãªã— | ãªã— | ã‚ã‚Šï¼ˆShepherdingï¼‰ | ã‚ã‚Šï¼ˆã‚´ãƒ¼ãƒ«æŒ‡å‘ãƒ˜ã‚¤ã‚ºèª¿æ•´ï¼‰ |
| **ç†è«–çš„åŸºç›¤** | Active Inference | Active Inference + Stigmergy | Active Inference + Predictive Coding | Spatial Precision Control + Active Inference |
| **å®Ÿè£…é›£æ˜“åº¦** | â­ ç°¡å˜ | â­â­â­ é›£ã—ã„ | â­â­â­â­â­ æœ€é›£é–¢ | â­â­â­â­ é›£ã—ã„ |
| **ãƒ‡ãƒãƒƒã‚°é›£æ˜“åº¦** | â­ ç°¡å˜ | â­â­â­ é›£ã—ã„ | â­â­â­â­â­ éžå¸¸ã«é›£ã—ã„ | â­â­â­â­ é›£ã—ã„ |
| **é©ç”¨ã‚¿ã‚¹ã‚¯** | å›žé¿ã€æŽ¢ç´¢ | çµŒè·¯è¨ˆç”»ã€ç¾¤ã‚Œè¡Œå‹• | é«˜åº¦ãªShepherdingã€å­¦ç¿’ãƒ™ãƒ¼ã‚¹åˆ¶å¾¡ | Shepherdingã€æ–¹å‘åˆ¶å¾¡ã‚¿ã‚¹ã‚¯ |

---

## ã©ã¡ã‚‰ã‚’ä½¿ã†ã¹ãã‹

### Phase 1ã‚’é¸ã¶ã¹ãå ´åˆï¼š
âœ… EPHã®åŸºæœ¬æ¦‚å¿µã‚’ç†è§£ã—ãŸã„
âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªå›žé¿ãƒ»æŽ¢ç´¢è¡Œå‹•ã‚’æ¤œè¨¼ã—ãŸã„
âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§èƒ½ãŒå¿…è¦
âœ… å¤šæ•°ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆ100+ï¼‰ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
âœ… Active Inferenceã®åŸºç¤Žã‚’å­¦ã³ãŸã„

### Phase 2ã‚’é¸ã¶ã¹ãå ´åˆï¼š
âœ… é«˜åº¦ãªç¾¤çŸ¥èƒ½ã‚’ç ”ç©¶ã—ãŸã„
âœ… ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®æš—é»™çš„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦
âœ… Shepherdingã‚¿ã‚¹ã‚¯ã‚’å®Ÿè£…ã—ãŸã„
âœ… çµŒè·¯è¨ˆç”»ãƒ»æœ€é©åŒ–ãŒé‡è¦
âœ… è«–æ–‡ã®ãƒ¡ã‚¤ãƒ³è²¢çŒ®ã¨ã—ã¦è¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æç¤ºã—ãŸã„

### Phase 3ã‚’é¸ã¶ã¹ãå ´åˆï¼š
âœ… æœ€å…ˆç«¯ã®äºˆæ¸¬ãƒ™ãƒ¼ã‚¹åˆ¶å¾¡ã‚’ç ”ç©¶ã—ãŸã„
âœ… GRU/LSTMãªã©ã®æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’çµ±åˆã—ãŸã„
âœ… Shepherdingã®ã‚ˆã†ãªè¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã§æœ€é«˜æ€§èƒ½ã‚’ç›®æŒ‡ã™
âœ… ç•°ç¨®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆEPH + Boidsï¼‰ã®å”èª¿ã‚’ç ”ç©¶ã—ãŸã„
âœ… å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãŒååˆ†ã«ã‚ã‚‹ï¼ˆã¾ãŸã¯åŽé›†å¯èƒ½ï¼‰
âœ… ãƒˆãƒƒãƒ—å›½éš›ä¼šè­°ãƒ»ã‚¸ãƒ£ãƒ¼ãƒŠãƒ«ã¸ã®æŠ•ç¨¿ã‚’ç›®æŒ‡ã™

### Phase 4ã‚’é¸ã¶ã¹ãå ´åˆï¼š
âœ… Shepherdingã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–ã—ãŸåˆ¶å¾¡ã‚’å®Ÿç¾ã—ãŸã„
âœ… æ–¹å‘ä¾å­˜ã®ç²¾åº¦åˆ¶å¾¡ï¼ˆã‚´ãƒ¼ãƒ«æ–¹å‘ã¸ã®ç©æ¥µæ€§ï¼‰ãŒå¿…è¦
âœ… ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é©å¿œã«ã‚ˆã‚‹è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã‚’ç ”ç©¶ã—ãŸã„
âœ… SPMãƒ™ãƒ¼ã‚¹ã®perceptual groundingã‚’é‡è¦–ã™ã‚‹
âœ… ç©ºé–“çš„ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ã®åŠ¹æžœã‚’æ¤œè¨¼ã—ãŸã„
âœ… Spatial Precision Control + Active Inferenceã®ç†è«–ç ”ç©¶
âœ… Phase 1ã®æ‹¡å¼µã¨ã—ã¦ã€ã‚ˆã‚Šé«˜åº¦ãªshepherdingã‚’ç›®æŒ‡ã™

### æŽ¨å¥¨é–‹ç™ºãƒ•ãƒ­ãƒ¼ï¼š
```
1. Phase 1ã§åŸºæœ¬å‹•ä½œã‚’æ¤œè¨¼ï¼ˆSelf-Hazeï¼‰
   â†“
2. Phase 1ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–
   â†“
3. Phase 2 or Phase 4 ã¸åˆ†å²:

   ã€Phase 2ã¸ã€‘                    ã€Phase 4ã¸ã€‘
   - ç’°å¢ƒãƒ˜ã‚¤ã‚ºã«ã‚ˆã‚‹                 - Shepherdingã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
     ã‚¹ãƒ†ã‚£ã‚°ãƒžãƒ¼ã‚¸ãƒ¼                  - æ–¹å‘ä¾å­˜ç²¾åº¦åˆ¶å¾¡
   - ç¾¤ã‚Œè¡Œå‹•ãƒ»çµŒè·¯è¨ˆç”»                - ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é©å¿œ
   â†“                                â†“
   Phase 3ã¸æ‹¡å¼µï¼ˆAdvancedï¼‰         Phase 2ã¨çµ±åˆå¯èƒ½
   - SPMãƒ‡ãƒ¼ã‚¿åŽé›†                    ï¼ˆç’°å¢ƒãƒ˜ã‚¤ã‚ºè¿½åŠ ï¼‰
   - GRUäºˆæ¸¬å™¨è¨“ç·´
   - å­¦ç¿’ãƒ™ãƒ¼ã‚¹åˆ¶å¾¡
```

---

## è©•ä¾¡æ–¹æ³•

### Phase 1ã®è©•ä¾¡å®Ÿé¨“
```bash
# 1. åŸºæœ¬å‹•ä½œç¢ºèªï¼ˆValidationï¼‰
./scripts/run_basic_validation.sh 1

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# âœ… SelfHaze module loads
# âœ… Self-haze computation works
# âœ… h_self âˆˆ [0, h_max]

# 2. æŽ¢ç´¢åŠ¹çŽ‡å®Ÿé¨“
EPH_N_AGENTS=10 EPH_SIM_TIME=300 julia phase1_foraging.jl

# è©•ä¾¡æŒ‡æ¨™:
# - ç©ºé–“ã‚«ãƒãƒ¼çŽ‡ï¼ˆè¨ªå•ã—ãŸã‚»ãƒ«ã®å‰²åˆï¼‰
# - æŽ¢ç´¢æ™‚é–“ï¼ˆå…¨é ˜åŸŸã®90%ã‚’è¨ªå•ã™ã‚‹ã¾ã§ã®æ™‚é–“ï¼‰
# - ãƒ˜ã‚¤ã‚ºé·ç§»é »åº¦ï¼ˆisolated â†” crowdedï¼‰
```

### Phase 2ã®è©•ä¾¡å®Ÿé¨“
```bash
# 1. åŸºæœ¬å‹•ä½œç¢ºèªï¼ˆValidationï¼‰
./scripts/run_basic_validation.sh 2

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# âœ… EnvironmentalHaze module loads
# âœ… Haze deposition works
# âœ… Haze sampling from grid works

# 3. ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¯”è¼ƒ
julia scripts/baseline_comparison.jl

# æ¯”è¼ƒå¯¾è±¡:
# - Random: ãƒ©ãƒ³ãƒ€ãƒ ãªè¡Œå‹•é¸æŠž
# - Pure Gradient: å‹¾é…ã®ã¿ï¼ˆãƒ˜ã‚¤ã‚ºãªã—ï¼‰
# - EPH Phase 1: Scalar Self-Haze
# - EPH Phase 2: Environmental Haze
```

### Phase 3ã®è©•ä¾¡å®Ÿé¨“
```bash
# 1. åŸºæœ¬å‹•ä½œç¢ºèªï¼ˆValidationï¼‰
./scripts/run_basic_validation.sh 3

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# âœ… SPMPredictor module import
# âœ… LinearPredictor instantiation
# âœ… ShepherdingEPH module import
# âœ… ShepherdingParams instantiation
# âœ… BoidsAgent module import
# âœ… GRU model loading (optional)

# 2. Shepherdingæ€§èƒ½è©•ä¾¡ï¼ˆPhase 3ã®ä»£è¡¨çš„å¿œç”¨ï¼‰
./scripts/run_shepherding_experiment.sh

# è©•ä¾¡æŒ‡æ¨™:
# - Recovery Timeï¼ˆé€ƒèµ°å¾Œã€ç›®æ¨™ã«æˆ»ã‚‹ã¾ã§ã®æ™‚é–“ï¼‰
# - Path Smoothnessï¼ˆçµŒè·¯ã®Jerkç·å’Œï¼‰
# - Final Distanceï¼ˆæœ€çµ‚çš„ãªç›®æ¨™ã‹ã‚‰ã®è·é›¢ï¼‰
# - Haze distributionï¼ˆãƒ˜ã‚¤ã‚ºã®ç©ºé–“åˆ†å¸ƒï¼‰

# 3. GRUäºˆæ¸¬ç²¾åº¦è©•ä¾¡
# SPMäºˆæ¸¬èª¤å·®ã‚’å¯è¦–åŒ–
julia scripts/evaluate_gru_prediction.jl
```

### Phase 4ã®è©•ä¾¡å®Ÿé¨“
```bash
# 1. Shepherding ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯è¦–åŒ–ä»˜ãï¼‰
./scripts/run_shepherding_viewer.sh

# æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:
# âœ… çŠ¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç¾Šã‚’ã‚´ãƒ¼ãƒ«ã¸èª˜å°Ž
# âœ… ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é©å¿œã«ã‚ˆã‚‹è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
# âœ… æ–¹å‘ä¾å­˜ã®ãƒ˜ã‚¤ã‚ºåˆ¶å¾¡ï¼ˆã‚´ãƒ¼ãƒ«æ–¹å‘ã¸ã®ç©æ¥µæ€§ï¼‰
# âœ… çŠ¬åŒå£«ã®è¡çªå›žé¿
# âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆSPM, ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹è¡¨ç¤ºï¼‰

# 2. Shepherdingæ€§èƒ½è©•ä¾¡
# è©•ä¾¡æŒ‡æ¨™:
# - Goal Distance: ç¾Šã®é‡å¿ƒã‹ã‚‰ã‚´ãƒ¼ãƒ«ã¾ã§ã®è·é›¢
# - Compactness: ç¾Šã®å‡é›†æ€§ï¼ˆé‡å¿ƒã‹ã‚‰ã®å¹³å‡äºŒä¹—è·é›¢ï¼‰
# - Convergence Time: ã‚´ãƒ¼ãƒ«åˆ°é”ã¾ã§ã®æ™‚é–“
# - Angular Compactness Entropy: ç¾Šã®è§’åº¦åˆ†å¸ƒã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼

# 3. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ã‚­ãƒ£ãƒ³å®Ÿé¨“ï¼ˆã‚«ã‚¹ã‚¿ãƒ å®Ÿé¨“ï¼‰
EPH_N_SHEEP=50 EPH_N_DOGS=10 ./scripts/run_shepherding_viewer.sh

# ç•°ãªã‚‹ç¾Šæ•°ãƒ»çŠ¬æ•°ã§ã®æ€§èƒ½æ¯”è¼ƒ:
# - ç¾ŠãŒå°‘ãªã„ï¼ˆ10åŒ¹ï¼‰vs å¤šã„ï¼ˆ100åŒ¹ï¼‰
# - çŠ¬ãŒå°‘ãªã„ï¼ˆ2åŒ¹ï¼‰vs å¤šã„ï¼ˆ20åŒ¹ï¼‰
# - ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚µã‚¤ã‚ºã®å½±éŸ¿ï¼ˆ300 vs 600ï¼‰
```

### å¯è¦–åŒ–
```bash
# Phase 4: Shepherding ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯è¦–åŒ–
./scripts/run_shepherding_viewer.sh

# çµæžœ:
# - çŠ¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆèµ¤/ãƒžã‚¼ãƒ³ã‚¿ï¼‰ã¨ç¾Šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆç·‘ï¼‰ã®ä½ç½®
# - ã‚´ãƒ¼ãƒ«ãƒžãƒ¼ã‚«ãƒ¼ï¼ˆé»„è‰²ã®Ã—å°ï¼‰
# - SPMãƒ’ãƒ¼ãƒˆãƒžãƒƒãƒ—ï¼ˆè¿½è·¡å¯¾è±¡çŠ¬ã®è¦–è¦šæƒ…å ±ï¼‰
# - ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹å¯è¦–åŒ–ï¼ˆæ–¹å‘ä¾å­˜ç²¾åº¦ï¼‰
# - ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ãƒ»EFEãƒ»ã‚µãƒ—ãƒ©ã‚¤ã‚ºã®ãƒ—ãƒ­ãƒƒãƒˆ
# - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚´ãƒ¼ãƒ«åˆ¶å¾¡ï¼ˆãƒžã‚¦ã‚¹/çŸ¢å°ã‚­ãƒ¼ï¼‰

# å¯è¦–åŒ–ã®ç‰¹å¾´:
# - Dog ID 1ãŒè¿½è·¡å¯¾è±¡ï¼ˆãƒžã‚¼ãƒ³ã‚¿è‰²ï¼‰
# - SPM 3ãƒãƒ£ãƒãƒ«ï¼ˆOccupancy, Radial, Tangentialï¼‰ã‚’å€‹åˆ¥è¡¨ç¤º
# - ãƒ˜ã‚¤ã‚ºãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ã®æ™‚é–“å¤‰åŒ–ã‚’ç¢ºèªå¯èƒ½
```

---

## ã¾ã¨ã‚

| | Phase 1 | Phase 2 | Phase 3 | Phase 4 |
|---|---------|---------|---------|---------|
| **ä¸€è¨€ã§è¨€ã†ã¨** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè‡ªèº«ã®ã€Œä¸ç¢ºå®Ÿæ€§ã€ã‚’è¡¨ç¾ | ç’°å¢ƒã‚’é€šã˜ãŸã€Œé–“æŽ¥çš„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ | äºˆæ¸¬ãƒ™ãƒ¼ã‚¹ã®ã€Œå…ˆèª­ã¿è¡Œå‹•ã€ | æ–¹å‘ä¾å­˜ã®ã€ŒShepherdingåˆ¶å¾¡ã€ |
| **Active Inferenceã¨ã®é–¢ä¿‚** | ä¿¡å¿µã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ã®ç›´æŽ¥çš„å®Ÿè£… | ã‚¹ãƒ†ã‚£ã‚°ãƒžãƒ¼ã‚¸ãƒ¼ + Active Inference | Predictive Coding + Active Inference | Spatial Precision Control + Active Inference |
| **ç”Ÿç‰©å­¦çš„é¡žä¼¼** | å€‹ä½“ã®ã€Œè­¦æˆ’åº¦ã€ | ã‚¢ãƒªã®ã€Œãƒ•ã‚§ãƒ­ãƒ¢ãƒ³ã€ | äººé–“ã®ã€Œäºˆæ¸¬åˆ¶å¾¡ã€ | ç‰§ç¾ŠçŠ¬ã®ã€Œæ–¹å‘åˆ¶å¾¡ã€ |
| **æŽ¨å¥¨ã•ã‚Œã‚‹ä½¿ç”¨é †åº** | 1ç•ªç›®ï¼ˆåŸºç¤Žæ¤œè¨¼ï¼‰ | 2ç•ªç›®ã®åˆ†å²ï¼ˆç’°å¢ƒãƒ˜ã‚¤ã‚ºï¼‰ | 3ç•ªç›®ï¼ˆæœ€å…ˆç«¯ç ”ç©¶ï¼‰ | 2ç•ªç›®ã®åˆ†å²ï¼ˆShepherdingï¼‰ |

**é–‹ç™ºè€…ã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼š**
- ã¾ãšPhase 1ã§åŸºæœ¬ã‚’å›ºã‚ã‚‹
- Phase 1ãŒå®‰å®šå‹•ä½œã—ãŸã‚‰ Phase 2 ã¾ãŸã¯ Phase 4 ã¸åˆ†å²
  - **Phase 2ã¸**: ç’°å¢ƒãƒ˜ã‚¤ã‚ºãƒ»ã‚¹ãƒ†ã‚£ã‚°ãƒžãƒ¼ã‚¸ãƒ¼ãŒå¿…è¦ â†’ ç’°å¢ƒã‚°ãƒªãƒƒãƒ‰å®Ÿè£…
  - **Phase 4ã¸**: Shepherdingã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– â†’ æ–¹å‘ä¾å­˜ç²¾åº¦åˆ¶å¾¡ â†’ ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é©å¿œ
- Phase 2å®‰å®šå¾Œã€Phase 3ã¸æ‹¡å¼µå¯èƒ½
  - **Phase 3ã¸**: GRUäºˆæ¸¬ãŒå¿…è¦ â†’ SPMãƒ‡ãƒ¼ã‚¿åŽé›† â†’ GRUè¨“ç·´
- Phase 4ã¯ Phase 2ã®ç’°å¢ƒãƒ˜ã‚¤ã‚ºã¨çµ±åˆå¯èƒ½ï¼ˆå°†æ¥æ‹¡å¼µï¼‰
- è«–æ–‡ã§ã¯4ã¤ã®Phaseã‚’æ¯”è¼ƒã™ã‚‹ã“ã¨ã§æ®µéšŽçš„ãªè²¢çŒ®ã‚’ç¤ºã›ã‚‹

---

## å‚è€ƒæƒ…å ±

### ã‚³ãƒ¼ãƒ‰ä½ç½®
- Phase 1å®Ÿè£…: `src_julia/control/SelfHaze.jl`
- Phase 2å®Ÿè£…: `src_julia/control/EnvironmentalHaze.jl`
- Phase 3å®Ÿè£…:
  - GRUäºˆæ¸¬å™¨: `src_julia/prediction/SPMPredictor.jl`
  - Shepherdingåˆ¶å¾¡: `src_julia/control/ShepherdingEPH.jl`
  - Boidsåˆ¶å¾¡: `src_julia/agents/BoidsAgent.jl`
- Phase 4å®Ÿè£…:
  - Shepherdingåˆ¶å¾¡: `src_julia/control/ShepherdingEPHv2.jl`
  - Social Value: `src_julia/control/SocialValue.jl`
  - ç¾Šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: `src_julia/agents/SheepAgent.jl`
  - ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—: `src_julia/main_shepherding.jl`

### å®Ÿé¨“ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- Phase 1æ¤œè¨¼: `scripts/run_basic_validation.sh 1`
- Phase 2æ¤œè¨¼: `scripts/run_basic_validation.sh 2`
- Phase 3æ¤œè¨¼: `scripts/run_basic_validation.sh 3`
- Phase 4å®Ÿè¡Œ: `scripts/run_shepherding_viewer.sh`
- å…¨Phaseæ¤œè¨¼: `scripts/run_basic_validation.sh all`
- ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¯”è¼ƒ: `scripts/baseline_comparison.jl` (Phase 2/3ç”¨)
- GRUè¨“ç·´: `scripts/gru/update_gru.sh` (Phase 3ç”¨)

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
```julia
# Phase 1ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆsrc_julia/core/Types.jlï¼‰
EPHParams(
    h_max = 0.8,           # æœ€å¤§ãƒ˜ã‚¤ã‚º
    Î± = 10.0,              # Sigmoidæ€¥å³»åº¦
    Î©_threshold = 0.05,    # å æœ‰çŽ‡é–¾å€¤
    Î³ = 2.0                # ç²¾åº¦å¤‰èª¿å¼·åº¦
)

# Phase 2è¿½åŠ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
decay_rate = 0.99          # ãƒ˜ã‚¤ã‚ºæ¸›è¡°çŽ‡
deposit_amount = 0.2       # ãƒ˜ã‚¤ã‚ºå †ç©é‡
```
